<style>
    .site-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #fff;
        padding: 1rem 1rem 1.25rem 1rem;
        border-radius: 0 0 10px 10px;
        margin-bottom: 1rem;
    }
    .site-header .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        flex-wrap: wrap;
        padding: 0.5rem 0; /* increase top bar height */
    }
    .brand {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }
    .brand img { height: 56px; width: auto; border-radius: 6px; }
    .brand .title { display: none; }

    .nav {
        display: flex;
        gap: 0.75rem;
        align-items: center;
    }
    .nav a {
        text-decoration: none;
        color: #4f46e5; /* indigo */
        background: #fff;
        padding: 0.85rem 1.25rem; /* larger tap target */
        border-radius: 8px;
        font-weight: 600;
        font-size: 1.05rem;
        transition: background 0.2s ease, transform 0.2s ease, color 0.2s ease;
    }
    .nav a:hover { background: #eef2ff; transform: translateY(-1px); }
    .nav a:active { background: #e0e7ff; transform: translateY(0); }
    .nav a:focus-visible { outline: 2px solid rgba(255,255,255,0.8); outline-offset: 2px; }
    .nav a.active { background: #4f46e5; color: #fff; box-shadow: 0 2px 6px rgba(0,0,0,0.15); }
    .nav a.disabled { opacity: 0.6; pointer-events: none; }

    .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 0.75rem;
        margin-top: 0.9rem;
    }
    .metric-card { background: rgba(255,255,255,0.12); padding: 0.75rem; border-radius: 8px; text-align: center; }
    /* Make metric cards act like interactive links */
    a.metric-card { display: block; color: inherit; text-decoration: none; cursor: pointer; transition: background 0.2s ease, transform 0.2s ease; }
    a.metric-card:hover { background: rgba(255,255,255,0.18); transform: translateY(-1px); }
    a.metric-card:active { background: rgba(255,255,255,0.22); transform: translateY(0); }
    a.metric-card:focus-visible { outline: 2px solid rgba(255,255,255,0.8); outline-offset: 2px; }
    .metric-value { font-size: 1.05rem; font-weight: 700; display: block; }
    .metric-label { font-size: 0.85rem; opacity: 0.9; }

    @media (max-width: 640px) {
        .brand .title { display: none; }
    }
</style>

<div class="site-header">
    <div class="topbar">
        <a class="brand" href="/">
            <img src="/site_logo.PNG" alt="Stablecoin Watch" />
        </a>
        <nav class="nav">
            <a href="/" class="<%= active === 'home' ? 'active' : '' %>">Stablecoins</a>
            <a href="/platforms" class="<%= active === 'chains' ? 'active' : '' %>">Blockchains</a>
            <a href="/status" class="<%= active === 'status' ? 'active' : '' %>">Status</a>
        </nav>
    </div>
    <div class="metrics-grid">
        <a class="metric-card" href="/?sort=mcap&dir=desc" aria-label="View market cap details and sort by market cap">
            <span class="metric-value"><%= (data && data.metrics && data.metrics.totalMCap_s) || 'No data' %></span>
            <span class="metric-label">Total Market Cap</span>
        </a>
        <a class="metric-card" href="/?sort=volume&dir=desc" aria-label="View 24 hour volume and sort by volume">
            <span class="metric-value"><%= (data && data.metrics && data.metrics.totalVolume_s) || 'No data' %></span>
            <span class="metric-label">24h Volume</span>
        </a>
        <% if (typeof totalETHMCap_s !== 'undefined') { %>
        <a class="metric-card" href="/platforms" aria-label="View blockchain platforms; see Ethereum totals">
            <span class="metric-value"><%= totalETHMCap_s %></span>
            <span class="metric-label">Total $ on ETH</span>
        </a>
        <% } %>
        <% if (typeof totalETHMCap !== 'undefined' && data && data.metrics && data.metrics.totalMCap) { %>
        <a class="metric-card" href="/platforms" aria-label="Explore blockchain platform distribution; percent on Ethereum">
            <span class="metric-value"><%= ((totalETHMCap/data.metrics.totalMCap)*100).toFixed(1) %>%</span>
            <span class="metric-label">% on ETH</span>
        </a>
        <% } %>

    </div>
</div>
