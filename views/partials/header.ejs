<style>
    .site-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #fff;
        padding: 1rem 1rem 1.25rem 1rem;
        border-radius: 0 0 10px 10px;
        margin-bottom: 1rem;
    }
    .site-header .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        flex-wrap: wrap;
    }
    .brand {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }
    .brand img { height: 44px; width: auto; border-radius: 6px; }
    .brand .title { display: none; }

    .nav {
        display: flex;
        gap: 0.5rem;
        align-items: center;
    }
    .nav a {
        text-decoration: none;
        color: #667eea;
        background: #fff;
        padding: 0.5rem 0.9rem;
        border-radius: 6px;
        font-weight: 600;
        transition: background 0.2s ease, transform 0.2s ease;
    }
    .nav a:hover { background: #f0f0ff; transform: translateY(-1px); }
    .nav a.active { background: #ffd24d; color: #4a3b00; }
    .nav a.disabled { opacity: 0.6; pointer-events: none; }

    .metrics-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 0.75rem;
        margin-top: 0.9rem;
    }
    .metric-card { background: rgba(255,255,255,0.12); padding: 0.75rem; border-radius: 8px; text-align: center; }
    .metric-value { font-size: 1.05rem; font-weight: 700; display: block; }
    .metric-label { font-size: 0.85rem; opacity: 0.9; }

    @media (max-width: 640px) {
        .brand .title { display: none; }
    }
</style>

<div class="site-header">
    <div class="topbar">
        <a class="brand" href="/">
            <img src="/site_logo.png" alt="Stablecoin Watch" />
        </a>
        <nav class="nav">
            <a href="/" class="<%= active === 'home' ? 'active' : '' %>">Coins</a>
            <a href="/platforms" class="<%= active === 'chains' ? 'active' : '' %>">Platforms</a>
            <a href="/status" class="<%= active === 'status' ? 'active' : '' %>">Status</a>
        </nav>
    </div>
    <div class="metrics-grid">
        <div class="metric-card">
            <span class="metric-value"><%= (data && data.metrics && data.metrics.totalMCap_s) || 'No data' %></span>
            <span class="metric-label">Total Market Cap</span>
        </div>
        <div class="metric-card">
            <span class="metric-value"><%= (data && data.metrics && data.metrics.totalVolume_s) || 'No data' %></span>
            <span class="metric-label">24h Volume</span>
        </div>
        <% if (typeof totalETHMCap_s !== 'undefined') { %>
        <div class="metric-card">
            <span class="metric-value"><%= totalETHMCap_s %></span>
            <span class="metric-label">Total $ on ETH</span>
        </div>
        <% } %>
        <% if (typeof totalETHMCap !== 'undefined' && data && data.metrics && data.metrics.totalMCap) { %>
        <div class="metric-card">
            <span class="metric-value"><%= ((totalETHMCap/data.metrics.totalMCap)*100).toFixed(1) %>%</span>
            <span class="metric-label">% on ETH</span>
        </div>
        <% } %>

    </div>
</div>
